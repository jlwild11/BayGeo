  <title>A D3 chart</title>
  <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>


  	<script>
  	// our code will go here

  var width = 700,
    height = 580;

var svg = d3.select('body')
  .append('svg')
  .attr('width', width)
  .attr('height', height);

var g = svg.append('g');

// Get the max housing count to define the top of our color range
var max_houses = d3.max(sfHousingData.features, d => { 
  return d.properties.COUNT 
});

// Create a function that returns a color value given some input
var color = d3.scaleLinear().domain([0, max_houses]).range(['beige', 'red']);

// Our old pal Mercator 
var mercatorProjection = d3.geoMercator()
                          .center([-122.43598, 37.76091])
                          .scale(170000)
                          .translate([width / 1.95, height / 1.65]);

var geoPath = d3.geoPath()
    .projection(mercatorProjection);

g.selectAll('path')
  .data(sfHousingData.features)
  .enter()
  .append('path')
  .attr('fill', d => {
    // Here's where the choropleth magic gets applied to our SVG elements.
    return color(d.properties.COUNT);
  })
  .attr('d', geoPath);
  
  return html`${svg.node()}`;





  	</script>
</body>
</html>